<div class="card mb-2 p-3" style="@(!EstaHabilitado ? "opacity:0.6; pointer-events:none;" : "")">
    <strong>@Tarefa.Descricao</strong>
    <p>Prazo: @Tarefa.Prazo.ToString("dd/MM/yyyy HH:mm")</p>
    <p>Status: @(Tarefa.IsSubmitted ? "Enviado ✅" : "Pendente ⏳")</p>

    <button class="btn btn-sm btn-primary" @onclick="EnviarTarefa" disabled="@(Tarefa.IsSubmitted || !EstaHabilitado)">
        Enviar
    </button>

    @if (!string.IsNullOrEmpty(Tarefa.Feedback))
    {
        <div class="mt-1">
            <strong>Feedback:</strong> @Tarefa.Feedback
        </div>
    }
</div>

@code {
    [Parameter] public Tarefa Tarefa { get; set; } = new();
    [Parameter] public bool EstaHabilitado { get; set; } = false;
    [Parameter] public EventCallback OnEnviado { get; set; }

    private void EnviarTarefa()
    {
        Tarefa.IsSubmitted = true;
        OnEnviado.InvokeAsync();
    }
}
